## 장치 컨트롤러

CPU 입장에서 모든 입출력장치의 작동 방식을 아는 것은 어려운 일입니다. 따라서 입출력 장치는 CPU 와 직접 연결되어 정보를 주고받지 않고, 장치 컨트롤러라는 하드웨어를 통해 연결됩니다. 모든 입출력장치는 각자의 장치 컨트롤러를 통해 컴퓨터 내부와 연결되어 정보를 주고받습니다.

장치 컨트롤러는 CPU 와 입출력장치 사이의 통신을 중개하는 중개자 역할의 하드웨어입니다.

## 장치 드라이버

일반적으로 장치 컨트롤러마다 이를 작동시키는 장치 드라이버라는 프로그램이 존재합니다.

장치 드라이버란 장치 컨트롤러의 동작을 알고, 장치 컨트롤러가 컴퓨터 내부와 정보를 주고받을 수 있도록 하는 프로그램입니다.

---

## 프로그램 입출력

프로그램 속 명령어로 입출력 작업을 수행하는 방법.

## 인터럽트 기반 입출력 : 다중 인터럽트

키보드, 마우스, 모니터, 스피커 등의 입출력장치를 동시에 사용하는 상황을 생각해봅시다.

이 경우 CPU 는 동시 다발적으로 발생하는 인터럽트를 모두 처리해야 합니다. 이렇게 **인터럽트가 여러 입출력장치로부터 동시다발적으로 발생하는 경우**에는 어떻게 처리해야 할까.

예를 들어 현재 CPU 가 인터럽트A를 처리하는 도중에 또 다른 인터럽트B가 들어왔다고 가정해봅시다. 만약 지금 처리중인 인터럽트A 보다 인터럽트B의 우선순위가 낮다면, CPU 는 A를 모두 처리한 뒤에 B를 처리합니다. 하지만 B의 우선순위가 높다면, CPU 는 인터럽트A의 실행을 잠시 멈추고 B를 처리한 뒤에 다시 A를 처리하게 됩니다.

이렇게 **우선순위가 높은 인터럽트부터 먼저 처리**하게 됩니다.

흔히 다중 인터럽트를 처리하기 위해서는 **프로그래머블 인터럽트 컨트롤러 (PIC)** 라는 하드웨어가 사용됩니다. PIC 는 여러 장치 컨트롤러에 연결되어 있어 **장치 컨트롤러에서 보낸 하드웨어 인터럽트 요청들의 우선순위를 판별한 뒤, CPU 에게 지금 처리해야 할 하드웨어 인터럽트가 무엇인지 알려주는** 장치 입니다.