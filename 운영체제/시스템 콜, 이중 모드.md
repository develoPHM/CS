운영체제도 일종의 프로그램이기 때문에 메모리에 적재되어야 한다. 운영체제는 특별한 프로그램이므로 메모리 내의 **커널 영역**이라는 공간에 따로 적재되어 실행된다.

운영체제가 적재되는 커널 영역 외에 사용자 응용 프로그램이 적재되는 공간은 **사용자 영역** 이라고 한다. 주목 할 점은 **운영체제의 기능을 제공받기 위해서는 커널 영역에 적재된 운영체제 코드를 실행한다.** 는 점이다.

응용 프로그램은 **시스템콜**을 호출하여 운영체제 코드를 실행할 수 있다. 시스템 콜은 운영체제의 서비스를 제공받기 위한 수단으로, 호출 가능한 함수의 형태를 가진다.

컴퓨터 내부에서 시스템 콜이 호출되면, 다음과 같은 작업이 수행된다. 여기서 핵심은 소프트웨어 인터럽트와 커널모드, 사용자 모드이다.

| 소프트웨어 인터럽트 발생 |
| --- |
| CPU의 커널 모드 전환 |
| 운영체제 코드 실행 |
| 사용자 모드로 재전환 |

운영체제에는 인터럽트를 발생시키는 특정 명령어가 있다. 자원에 접근하는 입출력 명령어가 대표적이며, 이러한 명령어에 의해 발생하는 인터럽트를 **소프트웨어 인터럽트**라고 한다.

시스템 콜이 바로 이 소프트웨어 인터럽트의 일종이다. 따라서 사용자 영역을 실행하는 과정에서 시스템 콜이 호출되면 여느 인터럽트와 마찬가지로 

CPU 는 현재 수행 중인 작업을 백업하고,

커널 영역 내의 인터럽트를 처리하기 위한 코드를 실행한 뒤,

다시 사용자 영역의 코드 실행을 재개한다.

CPU 는 명령어를 실행하는 과정에서 사용자 영역을 실행할 때의 **사용자모드**와 커널 영역을 실행할 때의 **커널모드**를 구분하여 실행합니다. 이렇게 2개의 모드로 구분하여 실행하는 것을 **이중 모드**라고 한다.

### 사용자모드

사용자 모드는 운영체제  서비스를 제공받을 수 없는 실행 모드로, 커널 영역의 코드를 실행할 수 없는 모드이다. 사용자 모드로 실행 중인 CPU 는 입출력 명령어와 같이 **자원에 접근하는 명령어를 만나도 이를 실행하지 않는다.**

### 커널모드

운영체제 서비스를 제공받을 수 있는 실행 모드로, 커널 영역의 코드를 실행할 수 있는 모드이다. CPU가 커널 모드로 명령어를 실행하면 자원에 접근하는 명령어를 비롯한 모든 명령어를 실행할 수 있다. 운영체제는 이 커널 모드로 실행되기 때문에 자원에 접근할 수 있다.